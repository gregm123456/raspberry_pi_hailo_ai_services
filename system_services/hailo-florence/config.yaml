# hailo-florence Service Configuration

server:
  host: "0.0.0.0"
  port: 11438
  log_level: "info"

model:
  name: "florence-2"
  processor_name: "/var/lib/hailo-florence/models/processor/microsoft__florence-2-base"
  model_dir: "/var/lib/hailo-florence/models"

  # Model files (relative to model_dir)
  vision_encoder: "vision_encoder.onnx"
  text_encoder: "florence2_transformer_encoder.hef"
  decoder: "florence2_transformer_decoder.hef"
  tokenizer: "tokenizer.json"
  caption_embedding: "caption_embedding.npy"
  vqa_embedding: "vqa_embedding.npy"
  word_embedding: "word_embedding.npy"

  # Generation parameters (defaults)
  max_length: 100
  min_length: 10
  temperature: 0.7
  max_tokens: 32

  # Image preprocessing
  image_size: 384
  max_image_bytes: 10485760  # 10 MB
  timeout_ms: 1000

resources:
  max_concurrent_requests: 1
  request_timeout_seconds: 30

metrics:
  enabled: true
  retention_seconds: 3600
